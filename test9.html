<!DOCTYPE html>
<html>

<head>

	<!-- Load the Paper.js library from sub folder /js  -->
	<script type="text/javascript" src="scripts/paper.js"></script>
	<!-- Define inlined PaperScript associate it with myCanvas -->
	<script type="text/paperscript" canvas="myCanvas">

var raster = new Raster('mona');
// Move the raster to the center of the view
raster.fitBounds(view.bounds, true);
raster.position = view.center;
raster.opacity = .5;

var cent = new Point(view.center);
var vector = new Point(cent);

for (var i = 1; i < 1000; i++) {

var rot = 0.618033989 * 360 * i;
var len = Math.sqrt(rot);

	vector.angle = rot;
	vector.length = len/2;
	//var col = raster.getAverageColor(raster.position + cent + vector);
var circ = new Path.Circle({
	center: (cent + vector),
	radius: 5,
	//strokeColor: 'white'
	// fillColor: raster.getAverageColor(circ) 	- FAILS - places Mona but draws nothing
	// fillColor = raster.getAverageColor(circ)     - FAILS - draws nothing
});


circ.fillColor = raster.getAverageColor(circ);

// <canvas height="491" id="myCanvas" width="320"></canvas>
	
}
</script>
</head>

<body>
	<!-- <div style="height:100vh"> -->
	<canvas id="myCanvas" </canvas>


		<!-- </div> -->
		<img id="mona" src="/images/mona.jpg" width="800" height="800">
</body>

</html>